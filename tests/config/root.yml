imports:
  - { resource: ../../../config/root.yml }
  - { resource: Process/Strategy/Mock.yml }
services:
  neighborhoods.kojo.db.connection.container-schema:
    class: Neighborhoods\Kojo\Db\Connection\Container
    calls:
      - [setName, [!php/const \Neighborhoods\Kojo\Db\Connection\ContainerInterface::NAME_SCHEMA]]
      - [setPdo, ["@pdo"]]
  neighborhoods.kojo.db.connection.container-job:
    class: Neighborhoods\Kojo\Db\Connection\Container
    calls:
      - [setName, [!php/const \Neighborhoods\Kojo\Db\Connection\ContainerInterface::NAME_JOB]]
      - [setPdo, ["@pdo"]]
  pdo:
    class: \Pdo
    arguments: ['mysql:dbname=kojo;host=mysql', 'root', 'nhdsroot']
  neighborhoods.kojo.process.pool.logger:
    class: Neighborhoods\Kojo\Process\Pool\Logger
    calls:
      - [setIsEnabled, [false]]
  db.tear_down:
    public: true
    alias: neighborhoods.kojo.db.tear_down
  db.setup:
    public: true
    alias: neighborhoods.kojo.db.setup
  redis:
    public: true
    class: \Redis
    calls:
      - [connect, ['redis', '6379']]