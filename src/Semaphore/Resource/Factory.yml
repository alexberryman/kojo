services:
  Neighborhoods\Kojo\Semaphore\Resource\FactoryInterface:
    class: Neighborhoods\Kojo\Semaphore\Resource\Factory
  Neighborhoods\Kojo\Semaphore\Resource\FactoryInterface.job:
    class: Neighborhoods\Kojo\Semaphore\Resource\Factory
    calls:
      - [setName, ['job']]
      - [setSemaphoreResource, ['@semaphore.resource-job']]
      - [setSemaphoreResourceOwner, ['@Neighborhoods\Kojo\Semaphore\Resource\Owner\JobInterface']]
      - [setMutex, ['@Neighborhoods\Kojo\Semaphore\Mutex\RedisInterface']]
      - [setSemaphore, ['@Neighborhoods\Kojo\SemaphoreInterface']]
  Neighborhoods\Kojo\Semaphore\Resource\FactoryInterface.maintainer_delete:
    class: Neighborhoods\Kojo\Semaphore\Resource\Factory
    calls:
      - [setName, ['maintainer_delete']]
      - [setSemaphoreResource, ['@semaphore.resource-maintainer_delete']]
      - [setMutex, ['@Neighborhoods\Kojo\Semaphore\Mutex\RedisInterface']]
      - [setSemaphore, ['@Neighborhoods\Kojo\SemaphoreInterface']]
  Neighborhoods\Kojo\Semaphore\Resource\FactoryInterface.update_pending_jobs:
    class: Neighborhoods\Kojo\Semaphore\Resource\Factory
    calls:
      - [setName, ['update_pending_jobs']]
      - [setSemaphoreResource, ['@semaphore.resource-update_pending_jobs']]
      - [setMutex, ['@Neighborhoods\Kojo\Semaphore\Mutex\RedisInterface']]
      - [setSemaphore, ['@Neighborhoods\Kojo\SemaphoreInterface']]
  Neighborhoods\Kojo\Semaphore\Resource\FactoryInterface.reschedule_jobs:
    class: Neighborhoods\Kojo\Semaphore\Resource\Factory
    calls:
      - [setName, ['reschedule_jobs']]
      - [setSemaphoreResource, ['@semaphore.resource-reschedule_jobs']]
      - [setMutex, ['@Neighborhoods\Kojo\Semaphore\Mutex\RedisInterface']]
      - [setSemaphore, ['@Neighborhoods\Kojo\SemaphoreInterface']]
  Neighborhoods\Kojo\Semaphore\Resource\FactoryInterface.schedule:
    class: Neighborhoods\Kojo\Semaphore\Resource\Factory
    calls:
      - [setName, ['schedule']]
      - [setSemaphoreResource, ['@semaphore.resource-schedule']]
      - [setMutex, ['@Neighborhoods\Kojo\Semaphore\Mutex\RedisInterface']]
      - [setSemaphore, ['@Neighborhoods\Kojo\SemaphoreInterface']]
  Neighborhoods\Kojo\Semaphore\Resource\FactoryInterface.server:
    class: Neighborhoods\Kojo\Semaphore\Resource\Factory
    calls:
      - [setName, ['server']]
      - [setSemaphoreResource, ['@semaphore.resource-server']]
      - [setMutex, ['@Neighborhoods\Kojo\Semaphore\Mutex\FlockInterface']]
      - [setSemaphore, ['@Neighborhoods\Kojo\SemaphoreInterface']]